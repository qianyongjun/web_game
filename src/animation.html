<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>animation</title>
	<link rel="stylesheet" href="css/animation.css" type="text/css">
	<link rel="stylesheet" href="css/keyframe.css" type="text/css">
</head>
<body>
	<div id="content">
		<ul class="content-wrap">
			<li>
				<div class="a_background">
					<div class="bg_top"></div>
					<div class="bg_middle"></div>
					<div class="bg_bottom"></div>
				</div>
				<div id="sun" class="sunmove"></div>
				<div id="cloud">
					<div class="cloud cloud1 cloud1Move"></div>
					<div class="cloud cloud2 cloud2Move"></div>
				</div>
			</li>
			<li>
				<div class="b_background_dark"></div>
				<div class="b_background_bright"></div>
				<div class="shop">
					<div class="door">
						<div class="door-left"></div>
						<div class="door-right"></div>
					</div>
				</div>
				<div class="bird"></div>
			</li>
			<li>3</li>
		</ul>
		<div id="boy" class="person pause"></div>
	</div>

	<script src="js/libs/jquery-2.1.4.min.js"></script>
	<script src="js/jquery-transition.js"></script>
	<script src="js/Swipe.js"></script>
	<script src="js/animation.js"></script>
	<script>
	$(function(){
		var container = $('#content');
		var swipe = Swipe(container);
		//Ò³Ãæ¹ö¶¯
		function scrollTo(time,proportion){
			var disX = container.width()*proportion;
			swipe.scrollTo(disX,time)
		}

		var boy = Animation();
		boy.walkTo(4000, 0.3)
		            .then(function() {
		                //µÚÒ»´Î×ßÂ·Íê³É
		                scrollTo(8000,1)
			}).then(function(){
				return boy.walkTo(8000,0.54);
			}).then(function(){
				boy.stopMove();
			}).then(function() {
			     	return openDoor();
			}).then(function(){
				light.on();
			}).then(function(){
				return boy.intoShop(2000)
			}).then(function(){
				return boy.flower();
			}).then(function(){
				bird.fly();
			}).then(function(){
				return boy.outShop(2000)
			}).then(function(){
				closeDoor();
			}).then(function(){
				light.off();
			})
	})
	</script>
</body>
</html>
